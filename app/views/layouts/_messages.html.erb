<%= turbo_frame_tag :flash do %>
  <% if flash.any? %>
    <div class="fixed top-4 right-4 z-50 space-y-2">
      <% flash.each do |type, message| %>
        <div
          x-data="{ show: true }"
          x-show="show"
          x-init="setTimeout(() => show = false, 5000)"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 translate-x-4"
          x-transition:enter-end="opacity-100 translate-x-0"
          x-transition:leave="transition ease-in duration-200"
          x-transition:leave-start="opacity-100"
          x-transition:leave-end="opacity-0"
          class="pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5"
        >
          <div class="p-4">
            <div class="flex items-start gap-3">
              <div class="flex-shrink-0">
                <% if type == "notice" %>
                  <div class="rounded-full bg-green-100 dark:bg-green-900 p-1">
                    <%= icon "check-circle", class: "size-5 text-green-600 dark:text-green-400" %>
                  </div>
                <% else %>
                  <div class="rounded-full bg-red-100 dark:bg-red-900 p-1">
                    <%= icon "exclamation-triangle", class: "size-5 text-red-600 dark:text-red-400" %>
                  </div>
                <% end %>
              </div>
              <div class="flex-1 pt-0.5">
                <p class="text-sm font-medium text-gray-900 dark:text-gray-100">
                  <%= message %>
                </p>
              </div>
              <div class="flex-shrink-0">
                <button
                  type="button"
                  @click="show = false"
                  class="inline-flex rounded-lg p-1.5 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none"
                >
                  <%= icon "x-mark", class: "size-5" %>
                </button>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>
